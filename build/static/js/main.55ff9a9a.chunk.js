(this["webpackJsonphowler-mint-page"]=this["webpackJsonphowler-mint-page"]||[]).push([[0],{114:function(e,t){},121:function(e,t){},139:function(e,t){},175:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(75),o=n.n(c),i=n(10),s=n(11),l=n(21),u=n(177),d=n(78),w=n.n(d),p=n(9),h=n(28);var g=function(e){switch(console.log("getConfig",e),e){case"production":case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:"hc.jeph.near",walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:"hc.jeph.testnet",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}("testnet"),j=new h.keyStores.BrowserLocalStorageKeyStore;function b(){return(b=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("initContract"),e.next=3,Object(h.connect)(Object(p.a)({keyStore:j,headers:{}},g));case 3:return t=e.sent,window.walletConnection=new h.WalletConnection(t,g.contractName.split(".")[0]),window.accountId=window.walletConnection.getAccountId(),e.next=8,new h.Contract(window.walletConnection.account(),g.contractName,{viewMethods:["get_saled_ids","get_saled_tokens","get_token_by_id","get_current_block"],changeMethods:["nft_mint","get_account_and_current_block"]});case 8:return window.contract=e.sent,e.abrupt("return",window.contract);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){window.walletConnection.signOut(),window.location.replace(window.location.origin+window.location.pathname)}function m(){window.walletConnection.requestSignIn(g.contractName)}var O=n(79),x=n.n(O),v=n(0),C=w.a.create({baseURL:"https://howler-api.juanenriqueenr4.repl.co/api/ids"});var k=function(){var e=function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.generate("".concat(t),{fontSize:24,fontFamily:"Arial"});case 2:return n=e.sent,e.abrupt("return",{contractId:window.contract.contractId,methodName:"nft_mint",args:{token_id:t,media:n},gas:"300000000000000",attachedDeposit:BigInt(1e22).toString()});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=a.a.useState(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],o=a.a.useState(""),d=Object(i.a)(o,2),w=(d[0],d[1],a.a.useState("")),p=Object(i.a)(w,2),h=(p[0],p[1],a.a.useState([])),g=Object(i.a)(h,2),j=(g[0],g[1],a.a.useState(!1)),b=Object(i.a)(j,2),O=b[0],k=(b[1],function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),console.log("minting"),e.next=4,C.get("/id?userId=".concat(window.accountId));case 4:t=e.sent.data.id,console.log(t),I(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),I=function(){var t=Object(l.a)(Object(s.a)().mark((function t(n){var r;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=window.contract.account,t.next=3,e(n);case 3:return t.t1=t.sent,t.next=6,t.t0.functionCall.call(t.t0,t.t1);case 6:if(r=t.sent,console.log(r),!O){t.next=11;break}return c(!1),t.abrupt("return");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.useEffect((function(){window.walletConnection.isSignedIn()?console.log("signed in"):window.walletConnection.isSignedIn()||console.log("not signed in")}),[]),window.walletConnection.isSignedIn()?Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("main",{children:[Object(v.jsx)("h2",{children:"Howler Carayas"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{style:{textAlign:"center",marginTop:"2.5em"},children:"\xa1Bienvenido!"}),Object(v.jsx)(u.a,{variant:r?"outline-danger":"outline-success",disabled:r,onClick:k,children:"Mintear"}),Object(v.jsx)(u.a,{variant:"primary",onClick:f,children:"Cerrar Sesi\xf3n"})]})}):Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("main",{children:[Object(v.jsx)("h2",{children:"Howler Carayas"}),Object(v.jsx)("hr",{}),Object(v.jsx)("p",{style:{textAlign:"center",marginTop:"2.5em"},children:"Por favor inicia sesi\xf3n para mintear"}),Object(v.jsx)(u.a,{variant:"primary",onClick:m,children:"Iniciar Sesi\xf3n"})," "]})})},I=o.a.createRoot(document.getElementById("root"));window.nearInitPromise=function(){return b.apply(this,arguments)}().then((function(){console.log("window.nearInitPromise",window.nearInitPromise),I.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(k,{})}))})).catch((function(e){console.log(e)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.55ff9a9a.chunk.js.map