(this["webpackJsonphowler-mint-page"]=this["webpackJsonphowler-mint-page"]||[]).push([[0],{113:function(e,t){},120:function(e,t){},138:function(e,t){},166:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(75),o=n.n(c),i=n(13),s=n(26),l=n(10),d=n(168),u=n(78),w=n.n(u),p=n(9),h=n(27);var g=function(e){switch(console.log("getConfig",e),e){case"production":case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:"hc.jeph.near",walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:"hc.jeph.testnet",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}("testnet"),j=new h.keyStores.BrowserLocalStorageKeyStore;function b(){return(b=Object(s.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("initContract"),e.next=3,Object(h.connect)(Object(p.a)({keyStore:j,headers:{}},g));case 3:return t=e.sent,window.walletConnection=new h.WalletConnection(t,g.contractName.split(".")[0]),window.accountId=window.walletConnection.getAccountId(),e.next=8,new h.Contract(window.walletConnection.account(),g.contractName,{viewMethods:["get_saled_ids","get_saled_tokens","get_token_by_id","get_current_block"],changeMethods:["nft_mint","get_account_and_current_block"]});case 8:return window.contract=e.sent,e.abrupt("return",window.contract);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){window.walletConnection.signOut(),window.location.replace(window.location.origin+window.location.pathname)}function f(){window.walletConnection.requestSignIn(g.contractName)}var O=n.p+"static/media/bannerhcc.d7654a60.png",x=n(0),v=w.a.create({baseURL:"https://howler-api.juanenriqueenr4.repl.co/api/ids"});var C=function(){var e=function(e){var t="https://picsum.photos/id/".concat(e,"/200/300");return{contractId:window.contract.contractId,methodName:"nft_mint",args:{token_id:e,media:t},gas:"300000000000000",attachedDeposit:BigInt(1e22).toString()}},t=a.a.useState(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],o=a.a.useState(""),u=Object(l.a)(o,2),w=(u[0],u[1],a.a.useState("")),p=Object(l.a)(w,2),h=(p[0],p[1],a.a.useState([])),g=Object(l.a)(h,2),j=(g[0],g[1],a.a.useState(!1)),b=Object(l.a)(j,2),C=b[0],k=(b[1],function(){var e=Object(s.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),console.log("minting"),e.next=4,v.get("/id?userId=".concat(window.accountId));case 4:t=e.sent.data.id,console.log(t),I(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),I=function(){var t=Object(s.a)(Object(i.a)().mark((function t(n){var r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.contract.account.functionCall(e(n));case 2:if(r=t.sent,console.log(r),!C){t.next=7;break}return c(!1),t.abrupt("return");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.a.useEffect((function(){window.walletConnection.isSignedIn()?console.log("signed in"):window.walletConnection.isSignedIn()||console.log("not signed in")}),[]),window.walletConnection.isSignedIn()?Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("main",{children:[Object(x.jsx)("h2",{children:"Howler Carayas"}),Object(x.jsx)("hr",{}),Object(x.jsx)("img",{src:O,alt:"carayas",style:{width:500}}),Object(x.jsx)("br",{}),Object(x.jsx)(d.a,{variant:r?"outline-danger":"outline-success",disabled:r,onClick:k,children:"Mintear"}),Object(x.jsx)(d.a,{variant:"primary",onClick:m,children:"Cerrar Sesi\xf3n"})]})}):Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("main",{children:[Object(x.jsx)("h2",{children:"Howler Carayas"}),Object(x.jsx)("hr",{}),Object(x.jsx)("p",{style:{textAlign:"center",marginTop:"2.5em"},children:"Por favor inicia sesi\xf3n para mintear"}),Object(x.jsx)(d.a,{variant:"primary",onClick:f,children:"Iniciar Sesi\xf3n"})," "]})})},k=o.a.createRoot(document.getElementById("root"));window.nearInitPromise=function(){return b.apply(this,arguments)}().then((function(){console.log("window.nearInitPromise",window.nearInitPromise),k.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(C,{})}))})).catch((function(e){console.log(e)}))}},[[166,1,2]]]);
//# sourceMappingURL=main.cc466dcd.chunk.js.map